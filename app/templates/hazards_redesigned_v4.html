{% extends 'base.html' %}

{% block title %}Hazards Portal - JanSamvaad{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<style>
    /* Hero section with futuristic style */
    .hazard-hero {
        position: relative;
        min-height: 70vh;
        background: linear-gradient(135deg, #0f3460 0%, #1a1a2e 100%);
        overflow: hidden;
        display: flex;
        align-items: center;
        padding: 4rem 0;
        margin-bottom: 0;
    }
    
    .hazard-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23fd79a8' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        opacity: 0.3;
    }
    
    .hazard-particles {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }
    
    .hazard-particle {
        position: absolute;
        display: block;
        pointer-events: none;
        width: 6px;
        height: 6px;
        background-color: var(--accent-color);
        border-radius: 50%;
        opacity: 0.3;
        animation: float-particle 15s infinite linear;
    }
    
    @keyframes float-particle {
        0% {
            transform: translateY(0) rotate(0deg);
            opacity: 0.3;
        }
        100% {
            transform: translateY(-1000px) rotate(720deg);
            opacity: 0;
        }
    }
    
    .hero-content {
        position: relative;
        z-index: 10;
    }
    
    .hero-title {
        font-size: 4rem;
        font-weight: 800;
        margin-bottom: 1.5rem;
        text-transform: uppercase;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 10px rgba(253, 121, 168, 0.5);
        position: relative;
        display: inline-block;
    }
    
    .hero-title::after {
        content: attr(data-text);
        position: absolute;
        left: 2px;
        top: 2px;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        opacity: 0.3;
        z-index: -1;
    }
    
    .hero-subtitle {
        font-size: 1.5rem;
        margin-bottom: 2rem;
        color: var(--light-color);
        max-width: 700px;
        margin-left: auto;
        margin-right: auto;
    }
    
    .neon-btn {
        border-radius: 50px;
        padding: 1rem 2rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 2px;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        border: none;
        color: white;
        position: relative;
        overflow: hidden;
        z-index: 1;
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    .neon-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: all 0.5s ease;
    }
    
    .neon-btn:hover::before {
        left: 100%;
    }
    
    .neon-btn:hover {
        box-shadow: 0 0 20px rgba(253, 121, 168, 0.7);
        transform: translateY(-3px);
    }
    
    /* Stats section */
    .stats-section {
        background-color: var(--darker-color);
        padding: 5rem 0;
        position: relative;
    }
    
    .stats-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23fd79a8' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        opacity: 0.5;
    }
    
    .stat-card {
        background-color: var(--card-bg);
        border-radius: var(--border-radius);
        padding: 2rem;
        height: 100%;
        position: relative;
        overflow: hidden;
        border: var(--card-border);
        transition: all 0.3s ease;
    }
    
    .stat-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 0 30px rgba(253, 121, 168, 0.3);
    }
    
    .stat-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: linear-gradient(90deg, var(--accent-color), var(--secondary-color));
    }
    
    .stat-number {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 1rem;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    .stat-title {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: var(--light-color);
    }
    
    .stat-description {
        color: var(--text-muted);
        font-size: 0.9rem;
    }
    
    /* Map section */
    .map-section {
        background-color: var(--dark-color);
        padding: 5rem 0;
        position: relative;
    }
    
    .section-title {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        display: inline-block;
    }
    
    .section-subtitle {
        font-size: 1.1rem;
        color: var(--text-muted);
        margin-bottom: 3rem;
        max-width: 700px;
    }
    
    .map-container {
        height: 500px;
        border-radius: var(--border-radius);
        overflow: hidden;
        box-shadow: var(--box-shadow);
        border: var(--card-border);
    }
    
    #hazardMap {
        height: 100%;
        width: 100%;
    }
    
    .map-overlay {
        position: absolute;
        top: 20px;
        right: 20px;
        background-color: rgba(26, 26, 46, 0.8);
        padding: 1rem;
        border-radius: var(--border-radius);
        backdrop-filter: blur(5px);
        border: 1px solid rgba(253, 121, 168, 0.3);
        z-index: 1000;
        max-width: 300px;
    }
    
    .map-title {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: var(--accent-color);
    }
    
    .map-legend {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .legend-item {
        display: flex;
        align-items: center;
    }
    
    .legend-color {
        width: 15px;
        height: 15px;
        border-radius: 50%;
        margin-right: 0.5rem;
    }
    
    /* Recent reports section */
    .reports-section {
        background-color: var(--darker-color);
        padding: 5rem 0;
        position: relative;
    }
    
    .report-card {
        background-color: var(--card-bg);
        border-radius: var(--border-radius);
        overflow: hidden;
        border: var(--card-border);
        transition: all 0.3s ease;
        height: 100%;
        position: relative;
    }
    
    .report-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 0 20px rgba(253, 121, 168, 0.3);
    }
    
    .report-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 4px;
        height: 100%;
        background: linear-gradient(180deg, var(--accent-color), var(--secondary-color));
    }
    
    .report-img {
        height: 200px;
        overflow: hidden;
    }
    
    .report-img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: all 0.5s ease;
    }
    
    .report-card:hover .report-img img {
        transform: scale(1.1);
    }
    
    .report-content {
        padding: 1.5rem;
    }
    
    .report-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        padding: 0.5rem 1rem;
        border-radius: 50px;
        font-size: 0.8rem;
        font-weight: 600;
        z-index: 10;
    }
    
    .badge-high {
        background-color: rgba(231, 76, 60, 0.9);
        color: white;
    }
    
    .badge-medium {
        background-color: rgba(243, 156, 18, 0.9);
        color: white;
    }
    
    .badge-low {
        background-color: rgba(52, 152, 219, 0.9);
        color: white;
    }
    
    .report-title {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: var(--light-color);
    }
    
    .report-meta {
        display: flex;
        justify-content: space-between;
        margin-bottom: 1rem;
        color: var(--text-muted);
        font-size: 0.9rem;
    }
    
    .report-description {
        color: var(--text-muted);
        margin-bottom: 1rem;
        font-size: 0.95rem;
    }
    
    .report-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        padding-top: 1rem;
    }
    
    .report-status {
        display: flex;
        align-items: center;
        font-size: 0.9rem;
    }
    
    .status-icon {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-right: 0.5rem;
    }
    
    .status-pending {
        background-color: #f39c12;
    }
    
    .status-in-progress {
        background-color: #3498db;
    }
    
    .status-resolved {
        background-color: #2ecc71;
    }
    
    .report-actions a {
        color: var(--accent-color);
        margin-left: 1rem;
        transition: all 0.3s ease;
    }
    
    .report-actions a:hover {
        color: var(--secondary-color);
    }
    
    /* How it works section */
    .how-it-works {
        background-color: var(--dark-color);
        padding: 5rem 0;
        position: relative;
    }
    
    .step-card {
        background-color: var(--card-bg);
        border-radius: var(--border-radius);
        padding: 2rem;
        height: 100%;
        position: relative;
        overflow: hidden;
        border: var(--card-border);
        transition: all 0.3s ease;
    }
    
    .step-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 0 30px rgba(253, 121, 168, 0.3);
    }
    
    .step-number {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 5rem;
        font-weight: 800;
        opacity: 0.1;
        color: var(--accent-color);
    }
    
    .step-icon {
        font-size: 3rem;
        margin-bottom: 1.5rem;
        color: var(--accent-color);
        transition: all 0.3s ease;
    }
    
    .step-card:hover .step-icon {
        transform: scale(1.1);
        color: var(--secondary-color);
    }
    
    .step-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: var(--light-color);
    }
    
    .step-description {
        color: var(--text-muted);
        font-size: 0.95rem;
        position: relative;
        z-index: 1;
    }
    
    /* CTA section */
    .cta-section {
        background: linear-gradient(135deg, #0f3460 0%, #1a1a2e 100%);
        padding: 5rem 0;
        position: relative;
        overflow: hidden;
    }
    
    .cta-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23fd79a8' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        opacity: 0.1;
    }
    
    .cta-content {
        position: relative;
        z-index: 1;
        text-align: center;
    }
    
    .cta-title {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        color: white;
    }
    
    .cta-description {
        font-size: 1.2rem;
        color: rgba(255, 255, 255, 0.8);
        margin-bottom: 2rem;
        max-width: 700px;
        margin-left: auto;
        margin-right: auto;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
        .hero-title {
            font-size: 3rem;
        }
        
        .section-title {
            font-size: 2rem;
        }
        
        .map-container {
            height: 350px;
        }
        
        .cta-title {
            font-size: 2.5rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section with Futuristic Style -->
<section class="hazard-hero">
    <div class="hazard-particles" id="particles"></div>
    <div class="container hero-content text-center">
        <h1 class="hero-title" data-text="Hazards Portal">Hazards Portal</h1>
        <p class="hero-subtitle">Help keep your community safe by reporting and tracking hazards. Together, we can create a safer environment for everyone.</p>
        
        <div class="d-flex justify-content-center gap-3 mt-4">
            <a href="{{ url_for('hazards_bp.report_hazard_page') }}" class="neon-btn">
                <i class="fas fa-exclamation-triangle me-2"></i> Report a Hazard
            </a>
            <button class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#trackHazardModal">
                <i class="fas fa-search me-2"></i> Track a Report
            </button>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section">
    <div class="container">
        <div class="row">
            <div class="col-md-3 mb-4">
                <div class="stat-card">
                    <div class="stat-number">1,248</div>
                    <div class="stat-title">Total Reports</div>
                    <p class="stat-description">Hazards reported by citizens across the region</p>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="stat-card">
                    <div class="stat-number">876</div>
                    <div class="stat-title">Resolved</div>
                    <p class="stat-description">Successfully addressed and fixed hazards</p>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="stat-card">
                    <div class="stat-number">94%</div>
                    <div class="stat-title">Resolution Rate</div>
                    <p class="stat-description">High success rate in addressing reported issues</p>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="stat-card">
                    <div class="stat-number">48h</div>
                    <div class="stat-title">Avg. Response Time</div>
                    <p class="stat-description">Quick response to critical hazards</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Map Section -->
<section class="map-section">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="section-title">Hazard Map</h2>
            <p class="section-subtitle mx-auto">Explore hazards reported in your area. The map shows all current hazards with their priority levels and status.</p>
        </div>
        
        <div class="map-container position-relative">
            <div id="hazardMap"></div>
            <div class="map-overlay">
                <div class="map-title">Hazard Types</div>
                <div class="map-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #e74c3c;"></div>
                        <span>High Priority</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #f39c12;"></div>
                        <span>Medium Priority</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #3498db;"></div>
                        <span>Low Priority</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #2ecc71;"></div>
                        <span>Resolved</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row mt-4">
            <div class="col-md-3 mb-3">
                <div class="form-floating">
                    <select class="form-select bg-dark text-light border-secondary" id="hazardTypeFilter">
                        <option value="all" selected>All Types</option>
                        <option value="road">Road Hazards</option>
                        <option value="infrastructure">Infrastructure</option>
                        <option value="environment">Environmental</option>
                        <option value="public">Public Safety</option>
                        <option value="health">Health Hazards</option>
                    </select>
                    <label for="hazardTypeFilter">Filter by Type</label>
                </div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="form-floating">
                    <select class="form-select bg-dark text-light border-secondary" id="priorityFilter">
                        <option value="all" selected>All Priorities</option>
                        <option value="high">High Priority</option>
                        <option value="medium">Medium Priority</option>
                        <option value="low">Low Priority</option>
                    </select>
                    <label for="priorityFilter">Filter by Priority</label>
                </div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="form-floating">
                    <select class="form-select bg-dark text-light border-secondary" id="statusFilter">
                        <option value="all" selected>All Statuses</option>
                        <option value="pending">Pending</option>
                        <option value="in-progress">In Progress</option>
                        <option value="resolved">Resolved</option>
                    </select>
                    <label for="statusFilter">Filter by Status</label>
                </div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="form-floating">
                    <input type="text" class="form-control bg-dark text-light border-secondary" id="locationSearch" placeholder="Search location">
                    <label for="locationSearch">Search by Location</label>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Recent Reports Section -->
<section class="reports-section">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="section-title">Recent Reports</h2>
            <p class="section-subtitle mx-auto">Latest hazards reported by citizens in your community. Stay informed about potential dangers in your area.</p>
        </div>
        
        <div class="row">
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="report-card">
                    <div class="report-badge badge-high">High Priority</div>
                    <div class="report-img">
                        <img src="https://via.placeholder.com/600x400?text=Pothole" alt="Pothole">
                    </div>
                    <div class="report-content">
                        <h3 class="report-title">Large Pothole on Main Street</h3>
                        <div class="report-meta">
                            <span><i class="fas fa-map-marker-alt me-1"></i> Ranchi Central</span>
                            <span><i class="far fa-clock me-1"></i> 2 days ago</span>
                        </div>
                        <p class="report-description">A large pothole approximately 2 feet wide has formed on Main Street near the intersection with Park Avenue. It poses a significant risk to vehicles.</p>
                        <div class="report-footer">
                            <div class="report-status">
                                <span class="status-icon status-in-progress"></span>
                                <span>In Progress</span>
                            </div>
                            <div class="report-actions">
                                <a href="#" data-bs-toggle="tooltip" title="Upvote"><i class="far fa-thumbs-up"></i></a>
                                <a href="#" data-bs-toggle="tooltip" title="View Details"><i class="fas fa-eye"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="report-card">
                    <div class="report-badge badge-medium">Medium Priority</div>
                    <div class="report-img">
                        <img src="https://via.placeholder.com/600x400?text=Fallen+Tree" alt="Fallen Tree">
                    </div>
                    <div class="report-content">
                        <h3 class="report-title">Fallen Tree Blocking Sidewalk</h3>
                        <div class="report-meta">
                            <span><i class="fas fa-map-marker-alt me-1"></i> Doranda</span>
                            <span><i class="far fa-clock me-1"></i> 3 days ago</span>
                        </div>
                        <p class="report-description">A large tree has fallen and is blocking the sidewalk on Oak Street. Pedestrians are forced to walk on the road, creating a safety hazard.</p>
                        <div class="report-footer">
                            <div class="report-status">
                                <span class="status-icon status-pending"></span>
                                <span>Pending</span>
                            </div>
                            <div class="report-actions">
                                <a href="#" data-bs-toggle="tooltip" title="Upvote"><i class="far fa-thumbs-up"></i></a>
                                <a href="#" data-bs-toggle="tooltip" title="View Details"><i class="fas fa-eye"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="report-card">
                    <div class="report-badge badge-low">Low Priority</div>
                    <div class="report-img">
                        <img src="https://via.placeholder.com/600x400?text=Street+Light" alt="Street Light">
                    </div>
                    <div class="report-content">
                        <h3 class="report-title">Broken Street Light</h3>
                        <div class="report-meta">
                            <span><i class="fas fa-map-marker-alt me-1"></i> Namkum</span>
                            <span><i class="far fa-clock me-1"></i> 5 days ago</span>
                        </div>
                        <p class="report-description">Street light at the corner of Pine Street and Elm Road is not working, creating a dark spot at night. This could be a safety concern for pedestrians.</p>
                        <div class="report-footer">
                            <div class="report-status">
                                <span class="status-icon status-resolved"></span>
                                <span>Resolved</span>
                            </div>
                            <div class="report-actions">
                                <a href="#" data-bs-toggle="tooltip" title="Upvote"><i class="far fa-thumbs-up"></i></a>
                                <a href="#" data-bs-toggle="tooltip" title="View Details"><i class="fas fa-eye"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="report-card">
                    <div class="report-badge badge-high">High Priority</div>
                    <div class="report-img">
                        <img src="https://via.placeholder.com/600x400?text=Water+Leak" alt="Water Leak">
                    </div>
                    <div class="report-content">
                        <h3 class="report-title">Major Water Leak</h3>
                        <div class="report-meta">
                            <span><i class="fas fa-map-marker-alt me-1"></i> Ranchi Central</span>
                            <span><i class="far fa-clock me-1"></i> 1 day ago</span>
                        </div>
                        <p class="report-description">A major water pipe has burst on Cedar Street, causing significant flooding. Water is flowing onto the road and creating hazardous conditions.</p>
                        <div class="report-footer">
                            <div class="report-status">
                                <span class="status-icon status-in-progress"></span>
                                <span>In Progress</span>
                            </div>
                            <div class="report-actions">
                                <a href="#" data-bs-toggle="tooltip" title="Upvote"><i class="far fa-thumbs-up"></i></a>
                                <a href="#" data-bs-toggle="tooltip" title="View Details"><i class="fas fa-eye"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="report-card">
                    <div class="report-badge badge-medium">Medium Priority</div>
                    <div class="report-img">
                        <img src="https://via.placeholder.com/600x400?text=Garbage+Dump" alt="Garbage Dump">
                    </div>
                    <div class="report-content">
                        <h3 class="report-title">Illegal Garbage Dump</h3>
                        <div class="report-meta">
                            <span><i class="fas fa-map-marker-alt me-1"></i> Harmu</span>
                            <span><i class="far fa-clock me-1"></i> 4 days ago</span>
                        </div>
                        <p class="report-description">An illegal garbage dump has formed behind the community park. It's attracting pests and creating health hazards for nearby residents.</p>
                        <div class="report-footer">
                            <div class="report-status">
                                <span class="status-icon status-pending"></span>
                                <span>Pending</span>
                            </div>
                            <div class="report-actions">
                                <a href="#" data-bs-toggle="tooltip" title="Upvote"><i class="far fa-thumbs-up"></i></a>
                                <a href="#" data-bs-toggle="tooltip" title="View Details"><i class="fas fa-eye"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="report-card">
                    <div class="report-badge badge-low">Low Priority</div>
                    <div class="report-img">
                        <img src="https://via.placeholder.com/600x400?text=Graffiti" alt="Graffiti">
                    </div>
                    <div class="report-content">
                        <h3 class="report-title">Graffiti on Public Building</h3>
                        <div class="report-meta">
                            <span><i class="fas fa-map-marker-alt me-1"></i> Kanke</span>
                            <span><i class="far fa-clock me-1"></i> 6 days ago</span>
                        </div>
                        <p class="report-description">Graffiti has appeared on the walls of the community center. While not a safety hazard, it affects the appearance of the public space.</p>
                        <div class="report-footer">
                            <div class="report-status">
                                <span class="status-icon status-resolved"></span>
                                <span>Resolved</span>
                            </div>
                            <div class="report-actions">
                                <a href="#" data-bs-toggle="tooltip" title="Upvote"><i class="far fa-thumbs-up"></i></a>
                                <a href="#" data-bs-toggle="tooltip" title="View Details"><i class="fas fa-eye"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <a href="#" class="neon-btn">
                <i class="fas fa-list me-2"></i> View All Reports
            </a>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section class="how-it-works">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="section-title">How It Works</h2>
            <p class="section-subtitle mx-auto">Our hazard reporting system is designed to be simple and effective. Follow these steps to report and track hazards in your community.</p>
        </div>
        
        <div class="row">
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <div class="step-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <h3 class="step-title">Identify Hazard</h3>
                    <p class="step-description">Spot a hazard in your community that needs attention from local authorities.</p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="step-card">
                    <div class="step-number">2</div>
                    <div class="step-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <h3 class="step-title">Document It</h3>
                    <p class="step-description">Take photos or videos of the hazard to provide clear evidence of the issue.</p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="step-card">
                    <div class="step-number">3</div>
                    <div class="step-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <h3 class="step-title">Submit Report</h3>
                    <p class="step-description">Fill out the hazard report form with all relevant details and submit it through our platform.</p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="step-card">
                    <div class="step-number">4</div>
                    <div class="step-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3 class="step-title">Track Progress</h3>
                    <p class="step-description">Monitor the status of your report and receive updates as authorities address the issue.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="container">
        <div class="cta-content">
            <h2 class="cta-title">Help Make Your Community Safer</h2>
            <p class="cta-description">Your reports make a difference. Join thousands of citizens who are actively contributing to safer neighborhoods through hazard reporting.</p>
            <a href="{{ url_for('hazards_bp.report_hazard_page') }}" class="neon-btn">
                <i class="fas fa-exclamation-triangle me-2"></i> Report a Hazard Now
            </a>
        </div>
    </div>
</section>

<!-- Track Hazard Modal -->
<div class="modal fade" id="trackHazardModal" tabindex="-1" aria-labelledby="trackHazardModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content bg-dark text-light">
            <div class="modal-header border-secondary">
                <h5 class="modal-title" id="trackHazardModalLabel">Track Your Hazard Report</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p class="text-muted mb-4">Enter your report ID to check the status of your hazard report.</p>
                <div class="form-floating mb-3">
                    <input type="text" class="form-control bg-dark text-light border-secondary" id="reportIdInput" placeholder="Report ID">
                    <label for="reportIdInput">Report ID (e.g., HAZ-123456)</label>
                </div>
            </div>
            <div class="modal-footer border-secondary">
                <button type="button" class="btn btn-outline-light" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="trackReportBtn">Track Report</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Create particles for the hero section
        const particlesContainer = document.getElementById('particles');
        for (let i = 0; i < 50; i++) {
            const particle = document.createElement('span');
            particle.className = 'hazard-particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.width = Math.random() * 10 + 3 + 'px';
            particle.style.height = particle.style.width;
            particle.style.animationDelay = Math.random() * 5 + 's';
            particle.style.animationDuration = Math.random() * 10 + 10 + 's';
            particlesContainer.appendChild(particle);
        }
        
        // Initialize the map
        const hazardMap = L.map('hazardMap').setView([23.3441, 85.3096], 12); // Ranchi coordinates
        
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(hazardMap);
        
        // Add some sample hazard markers
        const hazards = [
            { lat: 23.3441, lng: 85.3096, title: 'Pothole on Main Road', type: 'road', priority: 'high', status: 'in-progress' },
            { lat: 23.3541, lng: 85.3196, title: 'Fallen Tree', type: 'environment', priority: 'medium', status: 'pending' },
            { lat: 23.3341, lng: 85.2996, title: 'Broken Street Light', type: 'infrastructure', priority: 'low', status: 'resolved' },
            { lat: 23.3641, lng: 85.3296, title: 'Water Leakage', type: 'infrastructure', priority: 'medium', status: 'in-progress' },
            { lat: 23.3241, lng: 85.3396, title: 'Garbage Dump', type: 'health', priority: 'high', status: 'pending' },
            { lat: 23.3741, lng: 85.2896, title: 'Damaged Bridge', type: 'infrastructure', priority: 'critical', status: 'in-progress' },
            { lat: 23.3141, lng: 85.3196, title: 'Sewage Overflow', type: 'health', priority: 'high', status: 'pending' },
            { lat: 23.3841, lng: 85.3096, title: 'Unsafe Construction', type: 'public', priority: 'medium', status: 'in-progress' }
        ];
        
        // Create a marker layer group to manage markers
        const markerGroup = L.layerGroup().addTo(hazardMap);
        
        // Function to add markers to the map
        function addMarkersToMap(hazardsData) {
            // Clear existing markers
            markerGroup.clearLayers();
            
            hazardsData.forEach(hazard => {
                let markerColor;
                switch(hazard.priority) {
                    case 'critical':
                    case 'high':
                        markerColor = '#e74c3c';
                        break;
                    case 'medium':
                        markerColor = '#f39c12';
                        break;
                    case 'low':
                        markerColor = '#3498db';
                        break;
                    default:
                        markerColor = '#2ecc71';
                }
                
                const marker = L.circleMarker([hazard.lat, hazard.lng], {
                    radius: 8,
                    fillColor: markerColor,
                    color: '#fff',
                    weight: 1,
                    opacity: 1,
                    fillOpacity: 0.8
                });
                
                marker.bindPopup(`
                    <strong>${hazard.title}</strong><br>
                    Type: ${hazard.type}<br>
                    Priority: ${hazard.priority}<br>
                    Status: ${hazard.status}
                `);
                
                markerGroup.addLayer(marker);
            });
        }
        
        // Initialize map with all hazards
        addMarkersToMap(hazards);
        
        // Filter functionality
        const hazardTypeFilter = document.getElementById('hazardTypeFilter');
        const priorityFilter = document.getElementById('priorityFilter');
        const statusFilter = document.getElementById('statusFilter');
        const locationSearch = document.getElementById('locationSearch');
        
        function filterHazards() {
            const typeValue = hazardTypeFilter.value;
            const priorityValue = priorityFilter.value;
            const statusValue = statusFilter.value;
            const locationValue = locationSearch.value.toLowerCase();
            
            const filteredHazards = hazards.filter(hazard => {
                const typeMatch = typeValue === 'all' || hazard.type === typeValue;
                const priorityMatch = priorityValue === 'all' || hazard.priority === priorityValue;
                const statusMatch = statusValue === 'all' || hazard.status === statusValue;
                const locationMatch = !locationValue || hazard.title.toLowerCase().includes(locationValue);
                
                return typeMatch && priorityMatch && statusMatch && locationMatch;
            });
            
            addMarkersToMap(filteredHazards);
        }
        
        hazardTypeFilter.addEventListener('change', filterHazards);
        priorityFilter.addEventListener('change', filterHazards);
        statusFilter.addEventListener('change', filterHazards);
        locationSearch.addEventListener('input', filterHazards);
        
        // Initialize tooltips
        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
        
        // Track report functionality
        const trackReportBtn = document.getElementById('trackReportBtn');
        const reportIdInput = document.getElementById('reportIdInput');
        
        trackReportBtn.addEventListener('click', function() {
            const reportId = reportIdInput.value.trim();
            
            if (!reportId) {
                alert('Please enter a valid report ID');
                return;
            }
            
            // In a real implementation, you would make an API call to fetch the report status
            // For this demo, we'll just show a success message
            
            const modal = bootstrap.Modal.getInstance(document.getElementById('trackHazardModal'));
            modal.hide();
            
            // Show a success message or redirect to a status page
            alert(`Report ${reportId} is currently In Progress. The authorities have been notified and are working on resolving the issue.`);
        });
    });
</script>
{% endblock %}